# Crowdstreet

Python package for analyzing [Crowdstreet](https://www.crowdstreet.com/) reports.

***This is a third-party package, not officially associated with Crowdstreet.***

The data generated by this package (see this [example](test/data/summary.tsv))
is similar to the Crowdstreet "Portfolio Summary" reports with some enhancements:
- Generate CSV or TSV formats instead of PDF
- filter by start-date or end-date (e.g. 2022 tax year)


## Try it out

## Crowdstreet setup
1. Download the "Capital Contribution" CSV report (see [example](test/data/contributions.tsv))
2. Download the "Distributions" CSV report (see [example](test/data/distributions.tsv))

## Python setup
From a virtual environment:
```bash
pip install git+https://github.com/jschaub30/crowdstreet.git
```

## Example usage
Read CSV data and generate summary files to import into a spreadsheet for 
viewing/further analysis.
```python
from crowdstreet import Portfolio

portfolio = Portfolio("path_to_capital_contributions.csv")
portfolio.read_distributions("path_to_distributions.csv")
portfolio.save_summary("/tmp/summary_all.tsv", verbose=0)
portfolio.save_summary("/tmp/summary_by_entity.tsv", verbose=1)
portfolio.save_summary("/tmp/summary_by_offering.tsv")  # same as verbose=2 (default)
portfolio.save_summary("/tmp/summary_by_offering.csv", delimiter=",")  # CSV format
```

### Filtering by date
```python
from datetime import date
start_date = date(2022, 1, 1)
end_date = date(2022, 12, 31)
portfolio.save_summary("/tmp/summary_by_offering_2022.tsv", start_date=start_date, end_date=end_date)
```

### Analyze portfolio by year
See [this example script](scripts/analyze_by_year.py).


## Python documentation
- [Portfolio](doc/Portfolio.txt)
- [Transaction](doc/Transaction.txt)


## Repository setup

### Prerequisites
- pyenv (optional)
- make (optional)

## Setup using pyenv

```bash
pyenv virtualenv 3.8.11 crowdstreet
pyenv activate crowdstreet
pip install -r requirements-tests.txt  # optional
```
## Running tests
```bash
make test
```
or
```bash
pytest
```
